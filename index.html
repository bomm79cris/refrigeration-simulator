<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Ciclo de Refrigeraci√≥n Mec√°nica</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Top Menu Bar -->
   <header class="top-menu">
    <div class="menu-left">
        <h1>Simulador de Refrigeraci√≥n Mec√°nica</h1>
    </div>
    <div class="menu-center">
        <button id="startBtn" class="btn btn--primary">Iniciar Simulaci√≥n</button>
        <button id="stopBtn" class="btn btn--secondary" disabled>Detener</button>
        <button id="resetBtn" class="btn btn--outline">Reiniciar</button>
        <button id="educationalBtn" class="btn btn--outline">Modo Educativo</button>
    </div>
    <div class="menu-simulation" >
        <div class="simulation-controls">
            <div class="control-group">
                <label for="refrigerantSelect" style="color: black;">Refrigerante:</label>
                <select id="refrigerantSelect" class="form-control">
                    <option value="NH3">NH3</option>
                </select>
            </div>
            <div class="control-group">
                <label for="evapTemp" style="color: black;">T. Evaporaci√≥n (¬∞F):</label>
                <input type="number" id="evapTemp" class="form-control" value="10" min="-50" max="20" step="0.1">
            </div>
            <div class="control-group">
                <label for="condTemp"style="color: black;">T. Condensaci√≥n (¬∞F):</label>
                <input type="number" id="condTemp" class="form-control" value="40" min="20" max="80" step="0.1">
            </div>
                    <button id="configBtn" class="btn btn--secondary">Configurar Datos</button>

        </div>
    </div>
    <div class="menu-right">
        <div class="lives-indicator">
            <span class="lives-label">Vidas:</span>
            <span id="livesCount" class="lives-count">3/3</span>
        </div>
        <div class="lives-hearts">
            <span class="heart active">‚ô•</span>
            <span class="heart active">‚ô•</span>
            <span class="heart active">‚ô•</span>
        </div>
    </div>
</header>


    <div class="main-container">
        <!-- Left Sidebar - Component Palette -->
        <aside class="sidebar">
            <h2>Componentes</h2>
            <p class="sidebar-hint">Arrastra los componentes al tablero</p>
            
            <div class="component-palette">
                <div class="palette-item" draggable="true" data-component="compressor">
                    <div class="palette-preview">
                        <img src="images/compressor.png" alt="Compresor">
                    </div>
                    <span class="palette-label">Compresor</span>
                </div>

                <div class="palette-item" draggable="true" data-component="condenser">
                    <div class="palette-preview">
                        <img src="images/condenser.png" alt="Condensador">
                    </div>
                    <span class="palette-label">Condensador</span>
                </div>

                <div class="palette-item" draggable="true" data-component="expansion">
                    <div class="palette-preview">
                        <img src="images/valve.png" alt="Dispositivo de Expansi√≥n">
                    </div>
                    <span class="palette-label">Dispositivo de Expansi√≥n</span>
                </div>

                <div class="palette-item" draggable="true" data-component="evaporator">
                    <div class="palette-preview">
                        <img src="images/evaporator.png" alt="Evaporador">
                    </div>
                    <span class="palette-label">Evaporador</span>
                </div>
            </div>

            <div class="component-info">
                <h3>Instrucciones:</h3>
                <ol>
                    <li>Arrastra los 4 componentes al tablero</li>
                    <li>Conecta en el orden correcto</li>
                    <li>Enlaza de salida a entrada </li>
                    <li>&#128308; Salida</li>
                    <li>&#128309; Entrada </li>
                    <li>Inicia la simulaci√≥n</li>
                </ol>
                <p class="warning">‚ö†Ô∏è Conexiones incorrectas restan vidas</p>
                <p class="success">Con doble click en el componente puedes rotarlo</p>

            </div>
        </aside>

        <!-- Main Canvas Area -->
        <main class="canvas-area">
            <canvas id="mainCanvas"></canvas>
            <div id="tooltip" class="tooltip"></div>
        </main>
    </div>

    <!-- Bottom Panel - Data Table -->
    <section class="bottom-panel">
        <div class="panel-header">
            <h2>Estados Termodin√°micos del Refrigerante</h2>
            <span id="cycleCounter" class="cycle-counter">Ciclo: 0</span>
        </div>
        <div class="table-container">
            <table id="dataTable">
                <thead>
                    <tr>
                        <th>Componente</th>
                        <th>Presi√≥n (kPa)</th>
                        <th>Temperatura (¬∞C)</th>
                        <th>Entalp√≠a (kJ/kg)</th>
                        <th>Entrop√≠a (kJ/kg¬∑K)</th>
                        <th>Fase</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody id="dataTableBody">
                    <!-- Data rows will be added dynamically -->
                </tbody>
            </table>
        </div>
    </section>

    <!-- Educational Modal -->
    <div id="educationalModal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Modo Educativo - Componentes del Sistema</h2>
            
            <div class="educational-grid">
                <div class="edu-card">
                    <h3>üîß Compresor</h3>
                    <img src="images/compressor.png" alt="Compresor">
                    <p><strong>Funci√≥n:</strong> Incrementa presi√≥n y temperatura</p>
                    <p><strong>Entrada:</strong> Gas fr√≠o de baja presi√≥n</p>
                    <p><strong>Salida:</strong> Gas caliente de alta presi√≥n</p>
                    <p class="edu-description">El coraz√≥n del sistema. Aumenta la presi√≥n y temperatura del refrigerante gaseoso mediante compresi√≥n mec√°nica. El gas de baja presi√≥n entra por la succi√≥n y sale como gas de alta presi√≥n y temperatura por la descarga.</p>
                </div>

                <div class="edu-card">
                    <h3>‚ùÑÔ∏è Condensador</h3>
                    <img src="images/condenser.png" alt="Condensador">
                    <p><strong>Funci√≥n:</strong> Remueve calor y condensa el gas</p>
                    <p><strong>Entrada:</strong> Gas caliente de alta presi√≥n</p>
                    <p><strong>Salida:</strong> L√≠quido caliente de alta presi√≥n</p>
                    <p class="edu-description">Intercambiador de calor que remueve el calor del refrigerante gaseoso caliente, condens√°ndolo a l√≠quido. El calor se transfiere al ambiente exterior mediante aire o agua.</p>
                </div>

                <div class="edu-card">
                    <h3>üéöÔ∏è Dispositivo de Expansi√≥n</h3>
                    <img src="images/valve.png" alt="V√°lvula">
                    <p><strong>Funci√≥n:</strong> Reduce presi√≥n y temperatura</p>
                    <p><strong>Entrada:</strong> L√≠quido caliente de alta presi√≥n</p>
                    <p><strong>Salida:</strong> Mezcla l√≠quido-vapor fr√≠o de baja presi√≥n</p>
                    <p class="edu-description">Dispositivo que reduce dr√°sticamente la presi√≥n del l√≠quido refrigerante, causando una ca√≠da de temperatura. Controla el flujo de refrigerante hacia el evaporador.</p>
                </div>

                <div class="edu-card">
                    <h3>üå°Ô∏è Evaporador</h3>
                    <img src="images/evaporator.png" alt="Evaporador">
                    <p><strong>Funci√≥n:</strong> Absorbe calor y evapora el l√≠quido</p>
                    <p><strong>Entrada:</strong> Mezcla l√≠quido-vapor fr√≠o</p>
                    <p><strong>Salida:</strong> Gas fr√≠o de baja presi√≥n</p>
                    <p class="edu-description">Intercambiador donde el refrigerante absorbe calor del espacio a enfriar, evapor√°ndose de l√≠quido a gas. Es donde ocurre el efecto de enfriamiento deseado.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>